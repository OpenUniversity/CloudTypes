<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>CloudTypes: Test Example</title>

  <!-- Bootstrap core CSS -->
  <!--<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap.min.css">-->
  <link rel="stylesheet" href="../../../example-assets/css/bootstrap.min.css">
  <!-- Custom styles for this template -->
  <link href="test.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
</head>

<body ng-app="testApp" ng-controller="StateCtrl" ng-click="toggleBuy(null, $event)">

<div id="wrap">
  <div class="fluid-container">
    <div avbuttons="true" connect="#connect-btn" disconnect="#disconnect-btn" class="network-actions">
      <button href="#" id='disconnect-btn' class="btn btn-default btn-sm pull-right active">Offline</button>
      <button href="#" id='connect-btn' class="btn btn-default btn-sm pull-right">Online</button>
    </div>
    <div class="clearfix"></div>
  <div class="text-center">

    <h1>CloudTypes Example: Test</h1>
    <p class="lead">Add new groceries using the form at the bottom <br> and mark the amount you bought of an item by clicking it in the list. Track/Adjust connectivity using the online/offline buttons.</p>


          <div class="row text-left">
            <div class="col-lg-6 table-container" ng-repeat="table in state.all()">
              <h2><small>{{ table.name }}</small></h2>
              <table class="table">

                <thead>
                  <tr>
                    <th>
                      #uid
                    </th>
                    <th ng-repeat="key in table.getKeys()" >
                      {{key}}
                    </th>
                    <th ng-repeat="prop in table.getProperties()">
                      {{prop}}
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="row in table.all()">
                    <td> {{ row.uid }} </td>
                    <td ng-repeat="key in table.getKeys()" ng-model="key">
                      {{ row.key(key).toString() }}
                    </td> 
                    <td ng-repeat="prop in table.getProperties()" ng-model="cloudtype" ng-init="cloudtype = row.get(prop)" ng-class="{editing: cloudtype && cloudtype == editing, property: true}" ng-click="toggleEdit(cloudtype, $event)" >
                      {{cloudtype.toString()}}


                     <form role=form class='form-inline edit' ng-submit="setProperty(cloudtype, newValue)">
                      <div class='form-group'>
                        <div class=input-group>
                          <input type='typeToInput(cloudtype)' test-focus="editing == cloudtype" ng-model="newValue" ng-init="newValue = cloudtype.toString()" class='form-control' placeholder='Value'>
                        </div>
                      </div>
                      <div class=form-group>
                        <input type='submit' class='form-control btn' value='set' ng-click="setProperty(cloudtype, newValue)" >
                      </div>
                    </form>


                    </td>
                    <td>
                      <a href="#" ng-click="deleteRow(row)"><span class="glyphicon glyphicon-remove" id="edittaskdelete"></span></a> 
                    </td>
                  </tr>
                </tbody>
                
              </table>

            </div>
              <!-- <span class='key-name'>{{grocery.key('name')}}</span>
              <span class='badge property-toBuy'>{{grocery.get('toBuy').get()}}</span>
              <form role=form class='form-inline buy' ng-submit="boughtGrocery(grocery, count)">
                <div class='form-group'>
                  <div class=input-group>
                    <input type='number' grocery-focus="grocery == buying" grocery-blur="stopBuying(grocery)" ng-model="count" class='form-control' placeholder='Amount Bought'>
                  </div>
                </div>
                <div class=form-group>
                  <input type='submit' class='form-control btn' id='boughtgrocerysubmit' value='OK' >
                </div>
              </form> -->
            </li>
          </ul>
        </div>


  </div>

</div>

</div>

<div id="footer">
  <div class="container">
    <p class="text-muted credit">Example Courtesy by <a href="http://www.github.com/ticup">Tim Coppieters</a> for <a href="http://github.com/ticup/CloudType.js">CloudType.js</a></p>
  </div>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!--<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>-->
<!--<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.1/js/bootstrap.min.js"></script>-->
<script src="../../../example-assets/js/jquery-1.10.2.min.js"></script>
<script src="../../../example-assets/js/bootstrap.min.js"></script>
<script src="../../../example-assets/js/angular.js"></script>
<script src="../../../example-assets/js/angular-cloudtypes.js"></script>
<script src="../../../example-assets/js/angular-avbuttons.js"></script>
<script src="../../../client/bundle.js"></script>
<script src="app.js"></script>
</body>
</html>
